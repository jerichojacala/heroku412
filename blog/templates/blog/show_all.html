<!--blog/templates/blog/show_all.html-->
{% extends 'blog/base.html' %}
<h1>Show All Articles</h1>

<!--display a context variable called articles-->
<!--{{articles}}-->


{% block content %}
<main class="grid-container"></main>

<article class="featured">
    <!--loop to display each article-->
    {% for a in articles %}
    <div>
        <h2><a href="{% url 'article' a.pk %}">{{a.title}}</a></h2>
        <h3>{{a.author}} at {{a.published}}</h3>
        
        <!--new: display the image URL stored in the database-->
        {% if a.image_file %}
        <img src="{{a.image_file.url}}" alt="{{a.image_file.url}}">
        {% else %}
        No image_file available.
        {% endif %}
        <p>
            {{a.text}}
        </p>
    </div>
    {% endfor %}
</article>
</main>
{% endblock %}